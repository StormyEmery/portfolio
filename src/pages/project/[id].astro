---
import Layout from '../../layouts/Layout.astro';
import projects from '../../data/projects.js';

export async function getStaticPaths() {
  return projects.map((project) => ({
    params: { id: project.id }
  }));
}

const { id } = Astro.params;
const project = projects.find((p) => p.id === id);

if (!project) {
  return new Response('Project Not Found', { status: 404 });
}
---

<Layout title={`${project.title} - Stormy Emery`}>
  <div class="container mx-auto px-4 py-8 text-white bg-gray-900 min-h-screen">
    <a href="/" class="text-blue-400 hover:underline mb-4 inline-block">
      ‚Üê Back to Home
    </a>
    <h1 class="text-4xl font-bold mb-4">{project.title}</h1>
    {project.image && (
      <img
        src={project.image}
        alt={project.title}
        class="w-full max-w-lg mx-auto mb-4 rounded-lg"
      />
    )}
    <p class="text-lg mb-4">{project.fullDescription}</p>
    <h2 class="text-2xl font-semibold mb-2">Tech Stack</h2>
    <ul class="list-disc list-inside mb-4">
      {project.techStack.map((tech) => (
        <li>{tech}</li>
      ))}
    </ul>
    <div class="flex gap-4">
      {project.github && (
        <a
          href={project.github}
          class="text-blue-400 hover:underline"
          target="_blank"
          rel="noopener noreferrer"
        >
          GitHub
        </a>
      )}
      {project.live && (
        <a
          href={project.live}
          class="text-blue-400 hover:underline"
          target="_blank"
          rel="noopener noreferrer"
        >
          Live Demo
        </a>
      )}
    </div>
  </div>
</Layout>