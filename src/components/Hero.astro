---
const { name, tagline, bio } = Astro.props;
const skills = [
  "Unity", "C#", "MongoDB", "SQL", "Python", "Git", "Mobile Games", 
  "iOS", "Android", "APIs", "Jira", "Jenkins", "Sentry", "Debugging", 
  "Optimization", "Software Architecture and Design", "Full Stack Game Development"
];
// Duplicate skills for seamless looping
const carouselSkills = [...skills, ...skills];
---

<section class="min-h-screen flex items-center bg-gradient-to-r from-gray-900 to-gray-700">
  <div class="container mx-auto text-center px-4">
    <h1 class="text-5xl font-bold mb-4">{name}</h1>
    <p class="text-xl mb-6">{tagline}</p>
    <p class="text-lg max-w-prose mx-auto mb-8 text-gray-300">{bio}</p>
    <div class="relative max-w-3xl mx-auto mb-8">
      <div class="overflow-hidden">
        <div id="skills-carousel" class="flex animate-slide">
          {carouselSkills.map((skill, index) => (
            <span
              class="bg-gray-700 text-blue-400 w-fit px-3 py-1.5 rounded-full text-sm flex items-center justify-center mx-1.5 whitespace-nowrap text-center"
              key={`${skill}-${index}`}
            >
              {skill}
            </span>
          ))}
        </div>
      </div>
    </div>
    <a
      href="#contact"
      class="inline-block bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 hover:scale-105 transition-transform duration-300"
    >
      Get in Touch
    </a>
  </div>
</section>

<style>
  @keyframes slide {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }
  .animate-slide {
    animation: slide 20s linear infinite;
  }
  #skills-carousel:hover .animate-slide {
    animation-play-state: paused;
  }
</style>

<script>
  if (typeof window !== "undefined") {
    const carousel = document.getElementById("skills-carousel");
    if (carousel) {
      // Adjust animation duration based on total width
      const skills = carousel.querySelectorAll("span") || [];
      const totalSkills = skills.length / 2; // Account for duplicated skills
      const averageSkillWidth = 100; // Average width for dynamic sizing
      const totalWidth = totalSkills * averageSkillWidth;
      carousel.style.animationDuration = `${totalWidth / 50}s`; // 50px/s for slow scroll
    }
  }
</script>